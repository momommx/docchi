<header>
  <nav class="navbar navbar-expand navbar-dark bg-warning navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <%= link_to root_path do %>
          <%#= image_tag 'logo.png' %>
        <% end %>
      </div>
      
        <% if user_signed_in? %>
          <span class="nav-link text-center text-light">
            <%= current_user.name %>さん、いらっしゃい！
          </span>
          <ul class="navbar-nav">
            <li class="nav-item" style="list-style: none">
              <%= link_to "お題一覧", public_topics_path, class: "nav-link text-light" %>
            </li>
            <li class="nav-item" style="list-style: none">
              <%= link_to "ログアウト", destroy_user_session_path, method: :delete, class: 'nav-link text-light' %>
            </li>
            
            <!-- 検索バー -->
            <div class="form-inline">
              <%= form_with url: search_path, local: true, method: :get do |f| %>
                <%= f.text_field :word, placeholder: "お題の検索", class: "rounded-pill" %>
                
                <%= f.collection_select :genre_id, Genre.all, :id, :name, prompt: "ジャンル" %>
                
                <%= f.button :type => "submit", class: "btn btn-success rounded-pill my-2 my-sm-0" do %>
                  <i class="fa-solid fa-magnifying-glass"></i>
                  検索
                <% end %>
              <% end %>
            </div>
            
        <% else %>
            <li class="nav-item ml-auto" style="list-style: none">
              <%= link_to "ユーザー登録", new_user_registration_path, class: 'nav-link text-light' %>
            </li>
            <li class="nav-item" style="list-style: none">
              <%= link_to "ログイン", new_user_session_path, class: 'nav-link text-light' %>
            </li>
          </ul>
        <% end %>

    </div>
  </nav>
</header>